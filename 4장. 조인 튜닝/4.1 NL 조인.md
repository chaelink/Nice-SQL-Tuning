### 4.1 NL 조인(Nested Loop)

- 인덱스를 이용한 조인, 랜덤액세스 위주
- Outer 테이블은 사이즈가 크지 않으면 인덱스를 이용하지 않을 수 있다.
- Inner 테이블은 무조건 인덱스 사용
- 최초 n건 빠르게 출력 가능(부분범위 처리)
    - 부분범위 처리가 불가능하더라도 소량데이터 상황에서는 효과적
- 인덱스 유무 및 구성에 따라 성능이 크게 달라짐
- outer 로우 수가 많고 inner 로우 수가 적으면 조인 순서 변경 가능
- 힌트(오라클) : ordered(from 절 순서대로), use_nl, leading(여기에 원하는 순서대로 모두 기재)
- 힌트(sql server) : force order, loop join,

<br>

NL조인 특징
- 랜덤 액세스 위주의 조인 방식
    - 대량 데이터 조인에 불리함 
- 조인을 한 레코드씩 순차 진행
    - 부분 범위 처리를 활용하면 큰 테이블에서 빠른 응답 가능
 - 다른 조인 방식보다 인덱스 구성 전략이 특히 중요
- 온라인 트랜잭션 처리 시스템에 적합(소량 데이터, 부분범위 처리)


NL조인 확장 메커니즘
- 테이블 prefetch
    - 이어서 읽을 블록까지 미리 읽어 버퍼캐시에 적재하는 기능
- 배치 I/O
    - 디스크 I/O call을 미뤘다가 읽을 블록이 일정량 쌓이면 한번에 처리하는 기능  





















